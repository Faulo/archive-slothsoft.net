<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0" xmlns="http://www.w3.org/1999/xhtml"	xmlns:xsl="http://www.w3.org/1999/XSL/Transform">	<xsl:variable name="config" select="/data/*[@data-cms-name = 'config']" />	<xsl:variable name="classList" select="$config/*/*[@key = 'Klasse']/*" />	<xsl:variable name="epList" select="$config/*/*[@key = 'EP']/*" />	<xsl:variable name="skillList" select="$config/*/*[@key = 'SkillsMax']/*" />	<xsl:template match="/data">		<div class="Amber Editor">			<!--<xsl:copy-of select="*"/> -->			<xsl:call-template name="epChart.table" />		</div>	</xsl:template>	<xsl:template name="epChart.table">		<xsl:for-each select="$classList">			<details>				<summary>					<h2>						Klasse:						<span class="green">							<xsl:value-of select="@val" />						</span>					</h2>				</summary>				<table class="EPChart">					<thead>						<tr>							<th class="green">Level</th>							<th class="yellow">Erfahrung</th>							<th>APR</th>							<th>LP</th>							<th>SP</th>							<th>TP</th>							<th>SLP</th>						</tr>					</thead>					<tbody>						<xsl:call-template name="epChart.row" />					</tbody>				</table>			</details>		</xsl:for-each>	</xsl:template>	<xsl:template name="epChart.row">		<xsl:param name="i" select="1" />		<tr>			<xsl:variable name="pos" select="position()" />			<xsl:variable name="ep" select="number($epList[$pos]/@val)" />			<xsl:variable name="apr" select="number($skillList[$pos]/*[16]/@val)" />			<xsl:variable name="lp" select="number($skillList[$pos]/*[12]/@val)" />			<xsl:variable name="sp" select="number($skillList[$pos]/*[13]/@val)" />			<xsl:variable name="tp" select="number($skillList[$pos]/*[14]/@val)" />			<xsl:variable name="slp" select="number($skillList[$pos]/*[15]/@val)" />			<td class="number green">				<xsl:value-of select="$i" />			</td>			<td class="number yellow">				<xsl:value-of select="$ep * $i * ($i+1) div 2" />			</td>			<td class="number">				<xsl:variable name="tmp" select="floor(($i - $apr) div $apr) + 1" />				<xsl:choose>					<xsl:when test="$tmp">						<xsl:value-of select="$tmp" />					</xsl:when>					<xsl:otherwise>						<xsl:text>1</xsl:text>					</xsl:otherwise>				</xsl:choose>			</td>			<td class="number">				<xsl:value-of select="$i * $lp" />			</td>			<td class="number">				<xsl:value-of select="$i * $sp" />			</td>			<td class="number">				<xsl:value-of select="$i * $tp" />			</td>			<td class="number">				<xsl:value-of select="$i * $slp" />			</td>		</tr>		<xsl:if test="$i &lt; 50">			<xsl:call-template name="epChart.row">				<xsl:with-param name="i" select="$i + 1" />			</xsl:call-template>		</xsl:if>	</xsl:template></xsl:stylesheet>